$(function(){$("#map").gMap(),$("#labels2-3.demo input").switchButton({labels_placement:"left",on_label:"Public",off_label:"Private",width:70,height:30,button_width:35}),$(document).on("change",":file",function(){var e=$(this),o=e.get(0).files?e.get(0).files.length:1,t=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[o,t])}),$(document).ready(function(){$(":file").on("fileselect",function(e,o,t){var n=$(this).parents(".input-group").find(":text"),i=o>1?o+" files selected":t;n.length?n.val(i):i&&alert(i)})}),rivets.formatters.chosen=function(e,o){return $(o).val(e).trigger("liszt:updated"),e},window.view=rivets.bind($("#contentWrap-country"),{truck:{id:1,country_id:1},country:[{id:1,country_number:"Select country..."},{id:2,country_number:"2"},{id:3,country_number:"3"},{id:4,country_number:"4"}]})}),$(document).on("ready",function(){$(".responsive").slick({dots:!0,infinite:!1,speed:300,slidesToShow:6,slidesToScroll:6,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}),function(e,o,t){var n={};n.UTIL={setupFormValidation:function(){e("#register-form").validate({rules:{displayname:"required",username:"required",firstname:"required",lastname:"required",email:{required:!0,email:!0},confirmemail:{required:!0,email:!0},password:{required:!0,minlength:5},confirmpassword:{required:!0,minlength:5},dateofbirth:"required",agree:"required"},messages:{displayname:"Please enter your display name",username:"Please enter your username",firstname:"Please enter your firstname",lastname:"Please enter your lastname",dateofbirth:"Please enter your date of birth",password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},confirmpassword:{required:"Wrong password",minlength:"Your password must be at least 5 characters long"},email:"Please enter a valid email address",confirmemail:"Wrong email address",agree:"Please accept our policy"},submitHandler:function(e){e.submit()}})}},e(t).ready(function(e){n.UTIL.setupFormValidation()})}(jQuery,window,document),function(e){e.widget("sylightsUI.switchButton",{options:{checked:void 0,show_labels:!0,labels_placement:"both",on_label:"ON",off_label:"OFF",width:25,height:11,button_width:12,clear:!0,clear_after:null,on_callback:void 0,off_callback:void 0},_create:function(){void 0===this.options.checked&&(this.options.checked=this.element.prop("checked")),this._initLayout(),this._initEvents()},_initLayout:function(){this.element.hide(),this.off_label=e("<span>").addClass("switch-button-label"),this.on_label=e("<span>").addClass("switch-button-label"),this.button_bg=e("<div>").addClass("switch-button-background"),this.button=e("<div>").addClass("switch-button-button"),this.off_label.insertAfter(this.element),this.button_bg.insertAfter(this.off_label),this.on_label.insertAfter(this.button_bg),this.button_bg.append(this.button),this.options.clear&&(null===this.options.clear_after&&(this.options.clear_after=this.on_label),e("<div>").css({clear:"left"}).insertAfter(this.options.clear_after)),this._refresh(),this.options.checked=!this.options.checked,this._toggleSwitch(!0)},_refresh:function(){switch(this.options.show_labels?(this.off_label.show(),this.on_label.show()):(this.off_label.hide(),this.on_label.hide()),this.options.labels_placement){case"both":this.button_bg.prev()===this.off_label&&this.button_bg.next()===this.on_label||(this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertAfter(this.button_bg),this.on_label.addClass(this.options.checked?"on":"off").removeClass(this.options.checked?"off":"on"),this.off_label.addClass(this.options.checked?"off":"on").removeClass(this.options.checked?"on":"off"));break;case"left":this.button_bg.prev()===this.on_label&&this.on_label.prev()===this.off_label||(this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertBefore(this.button_bg),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on"));break;case"right":this.button_bg.next()===this.off_label&&this.off_label.next()===this.on_label||(this.off_label.detach(),this.on_label.detach(),this.off_label.insertAfter(this.button_bg),this.on_label.insertAfter(this.off_label),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on"))}this.on_label.html(this.options.on_label),this.off_label.html(this.options.off_label),this.button_bg.width(this.options.width),this.button_bg.height(this.options.height),this.button.width(this.options.button_width),this.button.height(this.options.height)},_initEvents:function(){var e=this;this.button_bg.click(function(o){return o.preventDefault(),o.stopPropagation(),e._toggleSwitch(!1),!1}),this.button.click(function(o){return o.preventDefault(),o.stopPropagation(),e._toggleSwitch(!1),!1}),this.on_label.click(function(o){return e.options.checked&&"both"===e.options.labels_placement?!1:(e._toggleSwitch(!1),!1)}),this.off_label.click(function(o){return e.options.checked||"both"!==e.options.labels_placement?(e._toggleSwitch(!1),!1):!1})},_setOption:function(e,o){return"checked"===e?void this._setChecked(o):(this.options[e]=o,void this._refresh())},_setChecked:function(e){e!==this.options.checked&&(this.options.checked=!e,this._toggleSwitch(!1))},_toggleSwitch:function(e){if(e||"readonly"!=this.element.attr("readonly")&&!this.element.prop("disabled")){this.options.checked=!this.options.checked;var o="";if(this.options.checked){this.element.prop("checked",!0),this.element.change();var t=this.options.width-this.options.button_width;o="+="+t,"both"==this.options.labels_placement?(this.off_label.removeClass("on").addClass("off"),this.on_label.removeClass("off").addClass("on")):(this.off_label.hide(),this.on_label.show()),this.button_bg.addClass("checked"),"function"==typeof this.options.on_callback&&this.options.on_callback.call(this)}else this.element.prop("checked",!1),this.element.change(),o="-1px","both"==this.options.labels_placement?(this.off_label.removeClass("off").addClass("on"),this.on_label.removeClass("on").addClass("off")):(this.off_label.show(),this.on_label.hide()),this.button_bg.removeClass("checked"),"function"==typeof this.options.off_callback&&this.options.off_callback.call(this);this.button.animate({left:o},250,"easeInOutCubic")}}})}(jQuery),function(e){var o=function(){this.markers=[],this.mainMarker=!1,this.icon="http://www.google.com/mapfiles/marker.png"};o.prototype.dist=function(e){return Math.sqrt(Math.pow(this.markers[0].latitude-e.latitude,2)+Math.pow(this.markers[0].longitude-e.longitude,2))},o.prototype.setIcon=function(e){this.icon=e},o.prototype.addMarker=function(e){this.markers[this.markers.length]=e},o.prototype.getMarker=function(){if(this.mainmarker)return this.mainmarker;var e,o;return 1<this.markers.length?(e=new t.MarkerImage("http://thydzik.com/thydzikGoogleMap/markerlink.php?text="+this.markers.length+"&color=EF9D3F"),o="cluster of "+this.markers.length+" markers"):(e=new t.MarkerImage(this.icon),o=this.markers[0].title),this.mainmarker=new t.Marker({position:new t.LatLng(this.markers[0].latitude,this.markers[0].longitude),icon:e,title:o,map:null})};var t=google.maps,n=new t.Geocoder,i=0,s=0,a={},a={init:function(o){var n,i=e.extend({},e.fn.gMap.defaults,o);for(n in e.fn.gMap.defaults.icon)i.icon[n]||(i.icon[n]=e.fn.gMap.defaults.icon[n]);return this.each(function(){var o=e(this),n=a._getMapCenter.apply(o,[i]);"fit"==i.zoom&&(i.zoomFit=!0,i.zoom=a._autoZoom.apply(o,[i]));var s={zoom:i.zoom,center:n,mapTypeControl:i.mapTypeControl,mapTypeControlOptions:{},zoomControl:i.zoomControl,zoomControlOptions:{},panControl:i.panControl,panControlOptions:{},scaleControl:i.scaleControl,scaleControlOptions:{},streetViewControl:i.streetViewControl,streetViewControlOptions:{},mapTypeId:i.maptype,scrollwheel:i.scrollwheel,maxZoom:i.maxZoom,minZoom:i.minZoom};if(i.controlsPositions.mapType&&(s.mapTypeControlOptions.position=i.controlsPositions.mapType),i.controlsPositions.zoom&&(s.zoomControlOptions.position=i.controlsPositions.zoom),i.controlsPositions.pan&&(s.panControlOptions.position=i.controlsPositions.pan),i.controlsPositions.scale&&(s.scaleControlOptions.position=i.controlsPositions.scale),i.controlsPositions.streetView&&(s.streetViewControlOptions.position=i.controlsPositions.streetView),i.styles&&(s.styles=i.styles),s.mapTypeControlOptions.style=i.controlsStyle.mapType,s.zoomControlOptions.style=i.controlsStyle.zoom,s=new t.Map(this,s),i.log&&console.log("map center is:"),i.log&&console.log(n),o.data("$gmap",s),o.data("gmap",{opts:i,gmap:s,markers:[],markerKeys:{},infoWindow:null,clusters:[]}),0!==i.controls.length)for(n=0;n<i.controls.length;n+=1)s.controls[i.controls[n].pos].push(i.controls[n].div);i.clustering.enabled?(n=o.data("gmap"),n.markers=i.markers,a._renderCluster.apply(o,[]),t.event.addListener(s,"bounds_changed",function(){a._renderCluster.apply(o,[])})):0!==i.markers.length&&a.addMarkers.apply(o,[i.markers]),a._onComplete.apply(o,[])})},_delayedMode:!1,_onComplete:function(){var e=this.data("gmap"),o=this;if(0!==i)window.setTimeout(function(){a._onComplete.apply(o,[])},100);else{if(a._delayedMode){var t=a._getMapCenter.apply(this,[e.opts,!0]);a._setMapCenter.apply(this,[t]),e.opts.zoomFit&&(t=a._autoZoom.apply(this,[e.opts,!0]),e.gmap.setZoom(t))}e.opts.onComplete()}},_setMapCenter:function(e){var o=this.data("gmap");if(o&&o.opts.log&&console.log("delayed setMapCenter called"),o&&void 0!==o.gmap&&0==i)o.gmap.setCenter(e);else{var t=this;window.setTimeout(function(){a._setMapCenter.apply(t,[e])},100)}},_boundaries:null,_getBoundaries:function(e){var o,t=e.markers,n=1e3,i=-1e3,s=1e3,l=-1e3;if(t){for(o=0;o<t.length;o+=1)t[o].latitude&&t[o].longitude&&(n>t[o].latitude&&(n=t[o].latitude),i<t[o].longitude&&(i=t[o].longitude),s>t[o].longitude&&(s=t[o].longitude),l<t[o].latitude&&(l=t[o].latitude),e.log&&console.log(t[o].latitude,t[o].longitude,n,i,s,l));a._boundaries={N:n,E:i,W:s,S:l}}return-1e3==n&&(a._boundaries={N:0,E:0,W:0,S:0}),a._boundaries},_getBoundariesFromMarkers:function(){var e,o=this.data("gmap").markers,t=1e3,n=-1e3,i=1e3,s=-1e3;if(o){for(e=0;e<o.length;e+=1)t>o[e].getPosition().lat()&&(t=o[e].getPosition().lat()),n<o[e].getPosition().lng()&&(n=o[e].getPosition().lng()),i>o[e].getPosition().lng()&&(i=o[e].getPosition().lng()),s<o[e].getPosition().lat()&&(s=o[e].getPosition().lat());a._boundaries={N:t,E:n,W:i,S:s}}return-1e3==t&&(a._boundaries={N:0,E:0,W:0,S:0}),a._boundaries},_getMapCenter:function(e,o){var i,s,l,r=this;if(e.markers.length&&("fit"==e.latitude||"fit"==e.longitude))return s=o?a._getBoundariesFromMarkers.apply(this):a._getBoundaries(e),i=new t.LatLng((s.N+s.S)/2,(s.E+s.W)/2),e.log&&console.log(o,s,i),i;if(e.latitude&&e.longitude)return i=new t.LatLng(e.latitude,e.longitude);if(i=new t.LatLng(0,0),e.address)return n.geocode({address:e.address},function(o,t){t===google.maps.GeocoderStatus.OK?a._setMapCenter.apply(r,[o[0].geometry.location]):e.log&&console.log("Geocode was not successful for the following reason: "+t)}),i;if(0<e.markers.length){for(l=null,s=0;s<e.markers.length;s+=1)if(e.markers[s].setCenter){l=e.markers[s];break}if(null===l)for(s=0;s<e.markers.length;s+=1){if(e.markers[s].latitude&&e.markers[s].longitude){l=e.markers[s];break}e.markers[s].address&&(l=e.markers[s])}if(null===l)return i;if(l.latitude&&l.longitude)return new t.LatLng(l.latitude,l.longitude);l.address&&n.geocode({address:l.address},function(o,t){t===google.maps.GeocoderStatus.OK?a._setMapCenter.apply(r,[o[0].geometry.location]):e.log&&console.log("Geocode was not successful for the following reason: "+t)})}return i},_renderCluster:function(){var e,t=this.data("gmap"),n=t.markers,i=t.clusters,s=t.opts;for(e=0;e<i.length;e+=1)i[e].getMarker().setMap(null);if(i.length=0,e=t.gmap.getBounds()){var l=e.getNorthEast(),r=e.getSouthWest(),c=[],d=(l.lat()-r.lat())*s.clustering.clusterSize/100;for(e=0;e<n.length;e+=1)n[e].latitude<l.lat()&&n[e].latitude>r.lat()&&n[e].longitude<l.lng()&&n[e].longitude>r.lng()&&(c[c.length]=n[e]);for(s.log&&console.log("number of markers "+c.length+"/"+n.length),s.log&&console.log("cluster radius: "+d),e=0;e<c.length;e+=1){for(l=-1,n=0;n<i.length&&(r=i[n].dist(c[e]),!(d>r&&(l=n,s.clustering.fastClustering)));n+=1);-1===l?(n=new o,n.addMarker(c[e]),i[i.length]=n):i[l].addMarker(c[e])}for(s.log&&console.log("Total clusters in viewport: "+i.length),n=0;n<i.length;n+=1)i[n].getMarker().setMap(t.gmap)}else{var h=this;window.setTimeout(function(){a._renderCluster.apply(h)},1e3)}},_processMarker:function(e,o,n,i){var s,a=this.data("gmap"),l=a.gmap,r=a.opts;if(void 0===i&&(i=new t.LatLng(e.latitude,e.longitude)),!o){var c={image:r.icon.image,iconSize:new t.Size(r.icon.iconsize[0],r.icon.iconsize[1]),iconAnchor:new t.Point(r.icon.iconanchor[0],r.icon.iconanchor[1]),infoWindowAnchor:new t.Size(r.icon.infowindowanchor[0],r.icon.infowindowanchor[1])};o=new t.MarkerImage(c.image,c.iconSize,null,c.iconAnchor)}n||(new t.Size(r.icon.shadowsize[0],r.icon.shadowsize[1]),c&&c.iconAnchor||new t.Point(r.icon.iconanchor[0],r.icon.iconanchor[1])),o={position:i,icon:o,title:e.title,map:null,draggable:!0===e.draggable},r.clustering.enabled||(o.map=l),s=new t.Marker(o),s.setShadow(n),a.markers.push(s),e.key&&(a.markerKeys[e.key]=s);var d;e.html&&(n={content:"string"==typeof e.html?r.html_prepend+e.html+r.html_append:e.html,pixelOffset:e.infoWindowAnchor},r.log&&console.log("setup popup with data"),r.log&&console.log(n),d=new t.InfoWindow(n),t.event.addListener(s,"click",function(){r.log&&console.log("opening popup "+e.html),r.singleInfoWindow&&a.infoWindow&&a.infoWindow.close(),d.open(l,s),a.infoWindow=d})),e.html&&e.popup&&(r.log&&console.log("opening popup "+e.html),d.open(l,s),a.infoWindow=d),e.onDragEnd&&t.event.addListener(s,"dragend",function(o){r.log&&console.log("drag end"),e.onDragEnd(o)})},_geocodeMarker:function(e,o,l){var r=this;n.geocode({address:e.address},function(n,c){c===t.GeocoderStatus.OK?(i-=1,r.data("gmap").opts.log&&console.log("Geocode was successful with point: ",n[0].geometry.location),a._processMarker.apply(r,[e,o,l,n[0].geometry.location])):(c===t.GeocoderStatus.OVER_QUERY_LIMIT&&(!r.data("gmap").opts.noAlerts&&0===s&&alert("Error: too many geocoded addresses! Switching to 1 marker/s mode."),s+=1e3,window.setTimeout(function(){a._geocodeMarker.apply(r,[e,o,l])},s)),r.data("gmap").opts.log&&console.log("Geocode was not successful for the following reason: "+c))})},_autoZoom:function(o,t){var n,i,s=e(this).data("gmap"),l=e.extend({},s?s.opts:{},o),s=39135.758482;for(l.log&&console.log("autozooming map"),n=t?a._getBoundariesFromMarkers.apply(this):a._getBoundaries(l),l=111e3*(n.E-n.W)/this.width(),i=111e3*(n.S-n.N)/this.height(),n=2;20>n&&!(l>s||i>s);n+=1)s/=2;return n-2},addMarkers:function(e){var o=this.data("gmap").opts;if(0!==e.length)for(o.log&&console.log("adding "+e.length+" markers"),o=0;o<e.length;o+=1)a.addMarker.apply(this,[e[o]])},addMarker:function(e){var o=this.data("gmap").opts;o.log&&console.log("putting marker at "+e.latitude+", "+e.longitude+" with address "+e.address+" and html "+e.html);var n=o.icon.image,s=new t.Size(o.icon.iconsize[0],o.icon.iconsize[1]),l=new t.Point(o.icon.iconanchor[0],o.icon.iconanchor[1]),r=new t.Size(o.icon.infowindowanchor[0],o.icon.infowindowanchor[1]),c=o.icon.shadow,d=new t.Size(o.icon.shadowsize[0],o.icon.shadowsize[1]),h=new t.Point(o.icon.shadowanchor[0],o.icon.shadowanchor[1]);e.infoWindowAnchor=r,e.icon&&(e.icon.image&&(n=e.icon.image),e.icon.iconsize&&(s=new t.Size(e.icon.iconsize[0],e.icon.iconsize[1])),e.icon.iconanchor&&(l=new t.Point(e.icon.iconanchor[0],e.icon.iconanchor[1])),e.icon.infowindowanchor&&new t.Size(e.icon.infowindowanchor[0],e.icon.infowindowanchor[1]),e.icon.shadow&&(c=e.icon.shadow),e.icon.shadowsize&&(d=new t.Size(e.icon.shadowsize[0],e.icon.shadowsize[1])),e.icon.shadowanchor&&(h=new t.Point(e.icon.shadowanchor[0],e.icon.shadowanchor[1]))),n=new t.MarkerImage(n,s,null,l),c=new t.MarkerImage(c,d,null,h),e.address?("_address"===e.html&&(e.html=e.address),"_address"==e.title&&(e.title=e.address),o.log&&console.log("geocoding marker: "+e.address),i+=1,a._delayedMode=!0,a._geocodeMarker.apply(this,[e,n,c])):("_latlng"===e.html&&(e.html=e.latitude+", "+e.longitude),"_latlng"==e.title&&(e.title=e.latitude+", "+e.longitude),o=new t.LatLng(e.latitude,e.longitude),a._processMarker.apply(this,[e,n,c,o]))},removeAllMarkers:function(){var e,o=this.data("gmap").markers;for(e=0;e<o.length;e+=1)o[e].setMap(null),delete o[e];o.length=0},getMarker:function(e){return this.data("gmap").markerKeys[e]},fixAfterResize:function(e){var o=this.data("gmap");t.event.trigger(o.gmap,"resize"),e&&o.gmap.panTo(new google.maps.LatLng(0,0)),o.gmap.panTo(this.gMap("_getMapCenter",o.opts))},setZoom:function(e,o,t){var n=this.data("gmap").gmap;"fit"===e&&(e=a._autoZoom.apply(this,[o,t])),n.setZoom(parseInt(e))},changeSettings:function(e){var o,t=this.data("gmap"),n=[];for(o=0;o<t.markers.length;o+=1)n[o]={latitude:t.markers[o].getPosition().lat(),longitude:t.markers[o].getPosition().lng()};e.markers=n,e.zoom&&a.setZoom.apply(this,[e.zoom,e]),(e.latitude||e.longitude)&&t.gmap.panTo(a._getMapCenter.apply(this,[e]))},mapclick:function(e){google.maps.event.addListener(this.data("gmap").gmap,"click",function(o){e(o.latLng)})},geocode:function(e,o,i){n.geocode({address:e},function(e,n){n===t.GeocoderStatus.OK?o(e[0].geometry.location):i&&i(e,n)})},getRoute:function(o){var n=this.data("gmap"),i=n.gmap,s=new t.DirectionsRenderer,a=new t.DirectionsService,l={BYCAR:t.DirectionsTravelMode.DRIVING,BYBICYCLE:t.DirectionsTravelMode.BICYCLING,BYFOOT:t.DirectionsTravelMode.WALKING},r={MILES:t.DirectionsUnitSystem.IMPERIAL,KM:t.DirectionsUnitSystem.METRIC},c=null,d=null,h=null;return void 0!==o.routeDisplay?c=o.routeDisplay instanceof jQuery?o.routeDisplay[0]:"string"==typeof o.routeDisplay?e(o.routeDisplay)[0]:null:null!==n.opts.routeFinder.routeDisplay&&(c=n.opts.routeFinder.routeDisplay instanceof jQuery?n.opts.routeFinder.routeDisplay[0]:"string"==typeof n.opts.routeFinder.routeDisplay?e(n.opts.routeFinder.routeDisplay)[0]:null),s.setMap(i),null!==c&&s.setPanel(c),d=void 0!==l[n.opts.routeFinder.travelMode]?l[n.opts.routeFinder.travelMode]:l.BYCAR,h=void 0!==r[n.opts.routeFinder.travelUnit]?r[n.opts.routeFinder.travelUnit]:r.KM,a.route({origin:o.from,destination:o.to,travelMode:d,unitSystem:h},function(o,i){i==t.DirectionsStatus.OK?s.setDirections(o):null!==c&&e(c).html(n.opts.routeFinder.routeErrors[i])}),this}};e.fn.gMap=function(o){return a[o]?a[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void e.error("Method "+o+" does not exist on jQuery.gmap"):a.init.apply(this,arguments)},e.fn.gMap.defaults={log:!1,address:"",latitude:null,longitude:null,zoom:3,maxZoom:null,minZoom:null,markers:[],controls:{},scrollwheel:!0,maptype:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,zoomControl:!0,panControl:!1,scaleControl:!1,streetViewControl:!0,controlsPositions:{mapType:null,zoom:null,pan:null,scale:null,streetView:null},controlsStyle:{mapType:google.maps.MapTypeControlStyle.DEFAULT,zoom:google.maps.ZoomControlStyle.DEFAULT},singleInfoWindow:!0,html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"http://www.google.com/mapfiles/marker.png",iconsize:[20,34],iconanchor:[9,34],infowindowanchor:[9,2],shadow:"http://www.google.com/mapfiles/shadow50.png",shadowsize:[37,34],shadowanchor:[9,34]},onComplete:function(){},routeFinder:{travelMode:"BYCAR",travelUnit:"KM",routeDisplay:null,routeErrors:{INVALID_REQUEST:"The provided request is invalid.",NOT_FOUND:"One or more of the given addresses could not be found.",OVER_QUERY_LIMIT:"A temporary error occured. Please try again in a few minutes.",REQUEST_DENIED:"An error occured. Please contact us.",UNKNOWN_ERROR:"An unknown error occured. Please try again.",ZERO_RESULTS:"No route could be found within the given addresses."}},clustering:{enabled:!1,fastClustering:!1,clusterCount:10,clusterSize:40}}}(jQuery);